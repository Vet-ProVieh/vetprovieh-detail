{"version":3,"file":"vetprovieh-detail.js","sources":["../node_modules/@tomuench/vetprovieh-shared/lib/helpers/object-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/helpers/view-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-binding.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-element.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-navparams.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-basic-repeat.ts","../node_modules/@tomuench/vetprovieh-shared/lib/decorators/web-component.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-repeat.ts","../node_modules/@tomuench/vetprovieh-shared/lib/elements/table/table.ts","../../formt-validation/dist/formt-validation.js","../lib/loaded-event.ts","../lib/vetprovieh-basic-detail.ts","../lib/vetprovieh-detail.ts","../lib/vetprovieh-notification.ts"],"sourcesContent":["import {Indexable} from '../interfaces/indexable';\n\n/**\n * Helper to get and set Attributes on Objects\n */\nexport class ObjectHelper {\n  /**\n   * Checking if the Element is an Object\n   * @param obj\n   */\n  static isObject(obj: any): boolean {\n    return obj != null && typeof (obj) === 'object';\n  }\n\n  /**\n     * Getting Value from JSON-Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @return {any}\n     */\n  static get(object: Indexable, key: string) : any {\n    try {\n      const attributes: string[] = key.split('.');\n      return this._iterateThrough(object, attributes);\n    } catch (ex) {\n      return undefined;\n    }\n  }\n\n  /**\n     * Iterating Through Object\n     * @param {Indexable} obj\n     * @param {string[]} attributes\n     * @param {number} depth\n     * @return {any}\n     * @private\n     */\n  static _iterateThrough(obj: Indexable, attributes: string[], depth = 0): any {\n    if (depth < 0) return undefined;\n\n    while (attributes.length > depth) {\n      const attribute :string = attributes.shift() as string;\n      if (!obj) throw new Error('Unknown Key');\n      obj = obj[attribute];\n    }\n    return obj;\n  }\n\n  /**\n     * Setting value for Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @param {any} value\n     */\n  static set(object: Indexable, key: string, value: any): void {\n    const attributes: string[] = key.split('.');\n    object = this._iterateThrough(object, attributes, 1);\n    const property = attributes[0];\n    object[property] = value;\n  }\n\n\n  /**\n     * Object to String\n     * @param {Object} obj\n     * @return {string}\n     */\n  static objectToStringDeep(obj: any) : string {\n    if (!obj) return '';\n\n    return Object.keys(obj).map((k: string) => {\n      const value: any = obj[k];\n      if (typeof (value) == 'object') {\n        return ObjectHelper.objectToStringDeep(value);\n      } else {\n        return value;\n      }\n    }).toString();\n  }\n}\n","import {ObjectHelper} from './object-helper';\nimport {Indexable} from '../interfaces/indexable';\n\n/**\n * Helpers for View\n */\nexport class ViewHelper {\n  /**\n     * Mark text yellow inside an element.\n     * @param {Node} element\n     * @param {string} input\n     */\n  static markElement(element: Node | ChildNode, input: string): void {\n    if (input != '') {\n      element.childNodes.forEach((n: Node) => {\n        const value: string = n.nodeValue || '';\n        if (n.nodeName === '#text' && value.indexOf(input) >= 0) {\n          (element as HTMLElement).innerHTML = (n as Indexable)['data']\n              .split(input)\n              .join('<mark>' + input + '</mark>');\n        } else {\n          ViewHelper.markElement(n, input);\n        }\n      });\n    }\n  }\n\n  /**\n   * Getting URL-Parameter from address\n   * @param {string} key\n   * @return {string}\n   */\n  static getParameter(key: string): string | null {\n    const urlString = window.location.href;\n    const url = new URL(urlString);\n    const value = url.searchParams.get(key);\n\n    return value;\n  }\n\n\n  /**\n     * Regex to fill keys in template\n     * @return {RegExp}\n     */\n  static get regexTemplate(): RegExp {\n    return /{{([a-zA-Z0-9\\.]+)}}/;\n  }\n\n  /**\n     * Replacing Placeholders in template from the loaded element\n     * @param {HTMLElement} template\n     * @param {Indexable} e\n     */\n  static replacePlaceholders(template: HTMLElement, e: Indexable): void {\n    let match = null;\n    while (match = template.innerHTML.match(ViewHelper.regexTemplate)) {\n      let value = ObjectHelper.get(e, match[1]);\n      value = value || '';\n      template.innerHTML = template.innerHTML.replace(match[0], value);\n    }\n  }\n}\n","import { ObjectHelper } from '../helpers/object-helper';\nimport { Indexable } from '../interfaces';\n\n/**\n * Binding for Form Fields\n */\nexport class VetproviehBinding {\n  // Object which is used for the Binding\n  private _targetObject: any;\n\n  // Property which is used by the Target Object\n  private _targetProperty: any;\n\n  // Bindings to input-elements\n  private _bindings: any[];\n\n  /**\n   * Default Constructor needs object and a property to bind\n   * @param {any} target\n   * @param {target} property\n   */\n  constructor(target: any, property: any) {\n    this._targetObject = target;\n    this._targetProperty = property;\n    this._bindings = [];\n  }\n\n  /**\n   * Clear all Bindings\n   */\n  public clear() {\n    this._bindings = [];\n  }\n\n  /**\n   * Gets current property value\n   * @return {any}\n   */\n  get value(): any {\n    return ObjectHelper.get(this._targetObject, this._targetProperty);\n  }\n\n  /**\n   * Sets current property value\n   * @param {any} val\n   */\n  set value(val: any) {\n    if (val !== this.value) {\n      ObjectHelper.set(this._targetObject, this._targetProperty, val);\n      this._updateBindings(val);\n    }\n  }\n\n  set targetObject(val: any) {\n    if (this._targetObject !== val) {\n      this._targetObject = val;\n    }\n  }\n\n\n  /**\n   * Add Binding to HTML-Field\n   * @param {HTMLElement} element\n   * @param {string} attribute\n   * @param {string} event\n   * @return {VetproviehBinding}\n   */\n  addBinding(element: HTMLElement, attribute: string, event: string) {\n    if (!this._alreadyBound(element, attribute)) {\n      this._attachListenerToEvent(element, event, attribute);\n      this._addToBindings(element, attribute);\n\n      (element as Indexable)[attribute] = this.value;\n    }\n    return this;\n  }\n\n  /**\n   * Is a HTMLElement for a property already bound?\n   * @retrun {boolean}\n   */\n  private _alreadyBound(element: HTMLElement, attribute: string): boolean {\n    return this._bindings.findIndex((b: { element: HTMLElement, attribute: string }) => {\n      return b.element.tagName === element.tagName && b.attribute === attribute;\n    }) >= 0\n  }\n\n  /**\n   * Insert into internal datastructure\n   * @param {HTMLElement} element\n   * @param {string} attribute\n   * @private\n   */\n  _addToBindings(element: HTMLElement, attribute: string) {\n    this._bindings.push({\n      element: element,\n      attribute: attribute,\n    });\n  }\n\n  /**\n   * Attach EventListener\n   * @param {HTMLElement} element\n   * @param {string} event\n   * @param {string} attribute\n   * @private\n   */\n  _attachListenerToEvent(element: HTMLElement,\n    event: string,\n    attribute: string) {\n    element.addEventListener(event, () => {\n      this.value = (element as Indexable)[attribute];\n    });\n  }\n\n  /**\n   * Update all set Bindings\n   * @param {any} val\n   * @private\n   */\n  _updateBindings(val: any) {\n    this._bindings.forEach((binding) => {\n      binding.element[binding.attribute] = val;\n    });\n  }\n\n\n  public static currentBindings: any = {};\n\n  /**\n * Binding Form Elements\n * @param {HTMLElement} target (Target - HTMLElement)\n * @param {any} data (DataObject)\n * @param {string} prefix\n */\n  public static bindFormElements(target: any, data: any, prefix = '', listener: (x: HTMLElement) => void = (x) => { }) {\n    console.log(\"Binding Form Elements\");\n    Object.keys(data).forEach((key: string) => {\n      if (ObjectHelper.isObject(data[key]) && !Array.isArray(data[key])) {\n        this.bindFormElements(target, data[key], key + '.', listener);\n      } else if (Array.isArray(data[key])) {\n        console.log(\"Binding Array\")\n        this.bindArray(data[key], key, target, listener);\n      } else {\n        const element = target\n          .querySelector('[property=\"' + prefix + key + '\"]');\n        if (element) {\n          // TODO: Es können doppelte Einträge entstehen. Hier msus nochmal nachgearbeitet werden\n          let binding = VetproviehBinding.bindElement(prefix, key, target[\"uniqueId\"] || target.id, data);\n          this._addBinding(element, binding, listener);\n        }\n      }\n    });\n  }\n\n  /**\n   * Binding an Element\n   * @param {String} key \n   * @param {String} targetId \n   * @param {any} data \n   * @return {VetproviehBinding}\n   */\n  private static bindElement(prefix: string, key: string, targetId: string, data: any): VetproviehBinding {\n    let bindingKey = targetId + \"-\" + prefix +  key;\n\n    console.log(`Binding Element ${bindingKey}`)\n\n    var binding = VetproviehBinding.currentBindings[bindingKey] as VetproviehBinding;\n    if (!binding) {\n      binding = new VetproviehBinding(data, prefix.includes(\"[\") ? key : prefix + key);\n      VetproviehBinding.currentBindings[bindingKey] = binding;\n    } else {\n      binding.targetObject = data;\n    }\n    return binding\n  }\n\n  /**\n   * Bind Array\n   * @param {any[]} array \n   * @param {string} key \n   * @param {any} target \n   * @param {(x: HTMLElement) => void} listener \n   */\n  private static bindArray(array: any[], key: string, target: any, listener: (x: HTMLElement) => void) {\n    for (let i = 0; i < array.length; i++) {\n      this.bindFormElements(target, array[i], `${key}[${i}].`, listener);\n    }\n  }\n\n  /**\n   * Attach Binding to Element\n   * @param {any} element \n   * @param {VetproviehBinding} binding \n   */\n  private static _addBinding(element: any, binding: VetproviehBinding, listener: (x: HTMLElement) => void) {\n    switch (element.type) {\n      case \"checkbox\":\n        binding.addBinding(element, 'checked', 'change');\n        break;\n\n      default:\n        binding.addBinding(element, 'value', 'change');\n        break;\n    }\n\n    if (listener) {\n      listener(element);\n    }\n  }\n}\n","import {Indexable} from '../interfaces';\n\n/**\n * BaseClass for view Elements\n */\nexport class VetproviehElement extends HTMLElement {\n  public get template() {\n    return '';\n  }\n\n\n  constructor(shadowed = true, render=true) {\n    super();\n\n    if (shadowed) {\n      this.attachShadow({\n        mode: 'open',\n      });\n    }\n\n    if(render) this.render();\n  }\n\n  /**\n     * Callback Implementation\n     * @param {string} name\n     * @param {any} old\n     * @param {any} value\n     */\n  attributeChangedCallback(name: string, old: any, value: any) {\n    if (old !== value) {\n      this.sendCallback(`_${name}_beforeSet`, value);\n      (this as Indexable)[name] = value;\n      this.sendCallback(`_${name}_afterSet`, value);\n      this.render();\n    }\n  }\n\n  /**\n   * Connected Callback\n   */\n  connectedCallback(){\n  }\n\n\n  private sendCallback(name: string, value: any) {\n    const method = (this as Indexable)[name] as Function;\n    if (method && typeof(method) === 'function') {\n      (this as Indexable)[name](value);\n    }\n  }\n\n  /**\n   * Loading HTML-Element From ShadowRoot\n   * @param {string} id\n   * @return {HTMLElement | undefined}\n   */\n  getByIdFromShadowRoot(id: string): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById(id) as HTMLElement;\n    }\n  }\n\n  render() {\n    const renderedTemplate = eval('`' + this.template + '`') as string;\n    if (this.shadowRoot) {\n      this.shadowRoot.innerHTML = renderedTemplate;\n    } else {\n      this.innerHTML = renderedTemplate;\n    }\n  }\n\n  /**\n     * Hide Or Show Element\n     * @param {string} id\n     * @param {boolean} show\n     */\n  updateVisibility(id: string, show: boolean) {\n    const search = this.getByIdFromShadowRoot(id);\n    if (search) {\n      if (!show) {\n        search.classList.add('is-hidden');\n      } else {\n        search.classList.remove('is-hidden');\n      }\n    }\n  }\n\n  public get innerHTML() {\n    return super.innerHTML;\n  }\n\n  public set innerHTML(input: string) {\n    if (this.shadowRoot != null) {\n      this.shadowRoot.innerHTML = input;\n    } else {\n      super.innerHTML = input;\n    }\n  }\n\n\n  // -----------------\n  // CLASS METHODS\n  // -----------------\n\n  /**\n     * Getting Template\n     * @return {string}\n     */\n  static get template(): string {\n    return `<link href=\"/node_modules/bulma/css/bulma.min.css\" \n                  rel=\"stylesheet\" type=\"text/css\">`;\n  }\n}\n","\n/**\n * NavParams for a MPA-Application\n */\nexport class VetproviehNavParams {\n\n  static getUrlParameter(key: string): any {\n    let regex;\n    if (regex = (new RegExp('[?&]' + encodeURIComponent(key) + '=([^&]*)')).exec(window.location.search)) {\n      return decodeURIComponent(regex[1]);\n    } else {\n      return null;\n    }\n  }\n  /**\n     * Returning Something out of the Storage\n     * @param {string} key\n     * @return {any}\n     */\n  static get(key: string): any {\n    const loadedObject = localStorage.getItem(key);\n    if (loadedObject) {\n      return JSON.parse(loadedObject);\n    }\n    return {};\n  }\n\n  /**\n     * Delete a local Storage Item\n     * @param {string} key\n     */\n  static delete(key: string) {\n    localStorage.removeItem(key);\n  }\n\n  /**\n     * Setting Storage\n     * @param {string} key\n     * @param {any} value\n     */\n  static set(key: string, value: any) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}\n","import { VetproviehElement } from './vetprovieh-element';\nimport { Indexable } from '../interfaces';\nimport { ViewHelper } from '../helpers';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\nexport class VetproviehBasicRepeat extends VetproviehElement {\n\n  /**\n       * Getting observed Attributes\n       * @return {string[]}\n       */\n  static get observedAttributes() {\n    return ['objects', 'orderBy'];\n  }\n\n  private _objects: Array<any> = [];\n  protected _listTemplate: DocumentFragment;\n  private _orderBy = '+position';\n\n  /**\n   * Default-Contructor\n   * @param {HTMLTemplateElement} pListTemplate\n   */\n  constructor(pListTemplate: HTMLTemplateElement | undefined = undefined, shadowed = true) {\n    super(shadowed);\n\n    const listTemplate = pListTemplate || this.querySelector('template');\n    if (listTemplate) {\n      this._listTemplate = listTemplate.content;\n    } else {\n      this._listTemplate = new DocumentFragment();\n    }\n  }\n\n  /**\n   * Set List Template and Render\n   * @param {DocumentFragment} val\n   */\n  public set listTemplate(val: DocumentFragment) {\n    if (this._listTemplate !== val) {\n      this._listTemplate = val;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n   * Get objects\n   * @return {Array<any>}\n   */\n  public get objects(): Array<any> {\n    return this._objects;\n  }\n\n  /**\n   * Set objects\n   * @param {Array<any>} v\n   */\n  public set objects(v: Array<any>) {\n    if (this._objects != v) {\n      this._objects = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Get OrderBy\n  * Expect \"+position\" for asceding positon\n  * Expect \"-position\" for descending position\n  * @return {string}\n  */\n  public get orderBy(): string {\n    return this._orderBy;\n  }\n\n  /**\n   * Set OrderBy\n   * @param {string} v\n   */\n  public set orderBy(v: string) {\n    if (this._orderBy != v) {\n      this._orderBy = v;\n      this.clearAndRender();\n    }\n  }\n\n  /**\n  * Connected Callback\n  */\n  connectedCallback() {\n    this._initalizeShadowRoot(VetproviehBasicRepeat.template);\n    this.renderList();\n  }\n\n  /**\n   * Clear and Render\n   */\n  clearAndRender() {\n    this.clear();\n    this._sortObjects();\n    this.renderList();\n  }\n\n  /**\n   * Sorting Objects\n   */\n  private _sortObjects() {\n    try {\n      const asc = this.orderBy.substring(0, 1) == '+' ? 1 : -1;\n      const argument = this.orderBy.substring(1);\n      this.objects = this.objects\n        .sort((a: any, b: any) => {\n          const aValue = a[argument];\n          const bValue = b[argument];\n          return (aValue - bValue) * asc;\n        });\n    } catch (e) {\n\n    }\n  }\n\n  /**\n   * List will be cleared\n   */\n  clear() {\n    const list = this.list;\n    if (list) list.innerHTML = '';\n  }\n\n  /**\n   * Rendering List-Content\n   */\n  renderList() {\n    this.objects\n      .forEach((obj: any, index: number) => {\n        this._attachToList(obj, index);\n      });\n  }\n\n  /**\n   * Inserts Element to List\n   * @param {any} dataItem\n   * @param {index} number\n   * @private\n   */\n  protected _attachToList(dataItem: any, index = 0) {\n    if (this.shadowRoot) {\n      const newListItem: HTMLElement = this._generateListItem(dataItem);\n      if (typeof (dataItem) === \"object\") {\n        dataItem['index'] = index;\n      }\n      ViewHelper.replacePlaceholders(newListItem, dataItem);\n      const list = this.list;\n      if (list && newListItem.children[0]) {\n        list.appendChild(newListItem.children[0]);\n      }\n    }\n  }\n\n\n  /**\n   * Getting List Element\n   * @return {HTMLElement | undefined}\n   */\n  protected get list(): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById('listElements') as HTMLElement;\n    } else {\n      return undefined;\n    }\n  }\n\n  /**\n  * Generate new Item for List which is based on the template\n  * @param {any} dataItem\n  * @param {boolean} activatedEventListener\n  * @return {HTMLDivElement}\n  * @private\n  */\n  protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('div');\n\n    if (activatedEventListener) {\n      div.addEventListener('click', () => {\n        const selectedEvent = new Event('selected');\n        (selectedEvent as Indexable)['data'] = dataItem;\n        this.dispatchEvent(selectedEvent);\n      });\n    }\n\n    div.appendChild(newNode);\n    return div;\n  }\n\n  /**\n   * Intializing Shadow-Root\n   * @param {string} template\n   * @protected\n   */\n  protected _initalizeShadowRoot(template: string) {\n    // Lazy creation of shadowRoot.\n    if (!this.shadowRoot) {\n      super.attachShadow({\n        mode: 'open',\n      }).innerHTML = template;\n    }\n  }\n}","import { Indexable } from \"../interfaces\";\n\ninterface IWebComponentArgs {\n  template?: string | undefined;\n  tag: string;\n  extends?: string | undefined;\n}\n\nexport function WebComponent(webComponentArgs: IWebComponentArgs) {\n  /**\n     * Defining Tag for HTML-Component\n     * @param {any} constructor\n     * @param {string} tagName\n     */\n  const defineTag = (constructor: any, tagName: string, extendElement: string | undefined) => {\n    if (!customElements.get(tagName)) {\n      if (extendElement) {\n        customElements.define(tagName, constructor, { extends: extendElement });\n      } else {\n        customElements.define(tagName, constructor);\n      }\n    }\n  };\n\n  return function <T extends { new(...constructorArgs: any[]): void }>(constructorFunction: T) {\n    /**\n         * Building Wrapper Function for new Constructor\n         * @param args\n         */\n    const newConstructorFunction: any = function (...args: any[]) {\n\n      const func: any = function () {\n        return new constructorFunction(...args);\n      };\n      func.prototype = constructorFunction.prototype;\n\n      const result: any = new func();\n      return result;\n    };\n\n    let filter = ['length', 'prototype', 'name'];\n    Object.getOwnPropertyNames(constructorFunction)\n      .filter((key) => !filter.includes(key))\n      .forEach((key) => {\n        newConstructorFunction[key] = (constructorFunction as Indexable)[key];\n      })\n\n    newConstructorFunction[\"observedAttributes\"] = (constructorFunction as Indexable)[\"observedAttributes\"];\n\n    newConstructorFunction.prototype = constructorFunction.prototype;\n\n\n    if (webComponentArgs.template) {\n      Object.defineProperty(newConstructorFunction.prototype, 'template',\n        {\n          get: (): string => webComponentArgs.template || \"\",\n        });\n    }\n    defineTag(constructorFunction, webComponentArgs.tag, webComponentArgs.extends);\n    return newConstructorFunction;\n  };\n}\n","import {VetproviehElement} from './vetprovieh-element';\nimport { WebComponent } from '../decorators';\nimport { VetproviehBasicRepeat } from './vetprovieh-basic-repeat';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\n\n @WebComponent({\n   template: VetproviehElement.template + `<div id=\"listElements\"></div>`,\n   tag: \"vp-repeat\"\n })\nexport class VetproviehRepeat extends VetproviehBasicRepeat {\n}\n","import { WebComponent } from \"../../decorators\";\nimport { VetproviehBasicRepeat, VetproviehElement } from \"../../core\";\nimport { Indexable } from \"../../interfaces\";\nimport { ViewHelper } from \"../../helpers\";\n\n\n@WebComponent({\n    template: VetproviehElement.template + `\n        <table class=\"table\">\n          <thead>\n          </thead>\n          <tbody id=\"listElements\">\n          </tbody>\n        </table>\n    `,\n    tag: \"vp-table\"\n})\nexport class VetproviehTable extends VetproviehBasicRepeat {\n\n\n    /**\n     * Inserts Element to List\n     * @param {any} dataItem\n     * @param {index} number\n     * @private\n     */\n    protected _attachToList(dataItem: any, index = 0) {\n      if (this.shadowRoot) {\n        const newListItem: HTMLElement = this._generateListItem(dataItem);\n        dataItem['index'] = index;\n        ViewHelper.replacePlaceholders(newListItem, dataItem);\n\n        this._attachParamsToLink(newListItem, dataItem);\n\n        const list = this.list;\n        if (list) {\n          list.appendChild(newListItem.children[0]);\n        }\n      }\n    }\n\n    private _attachParamsToLink(newListItem: HTMLElement,dataItem: any){\n      let a = newListItem.getElementsByTagName(\"a\")[0];\n      if(a){\n        (a as any).params = dataItem;\n      }\n    }\n    \n     /**\n    * Generate new Item for List which is based on the template\n    * @param {any} dataItem\n    * @param {boolean} activatedEventListener\n    * @return {HTMLDivElement}\n    * @private\n    */\n   protected _generateListItem(dataItem: any, activatedEventListener = false) {\n    const newNode = document.importNode(this._listTemplate, true);\n    const div = document.createElement('tbody');\n\n    div.appendChild(newNode);\n\n    return div;\n  }\n}","/**\n * Decorator for CSS-Framework bulma.io\n */\nclass BulmaDecorator {\n    /**\n       * CSS-ErrorClass\n       * @return {string}\n       * @constructor\n       */\n    static get ErrorClass() {\n        return 'is-danger';\n    }\n    /**\n       * CSS-SuccessClass\n       * @return {string}\n       * @constructor\n       */\n    static get SuccessClass() {\n        return 'is-success';\n    }\n    /**\n       * Formatting Success Element\n       * @param {HTMLInputElement} element\n       */\n    success(element) {\n        this._removeErrorIfNecessary(element);\n        if (!element.classList.contains(BulmaDecorator.SuccessClass)) {\n            element.classList.add(BulmaDecorator.SuccessClass);\n        }\n    }\n    /**\n       * Formatting Error Element\n       * @param {HTMLInputElement} element\n       */\n    error(element) {\n        this._removeSuccessIfNecessary(element);\n        if (!element.classList.contains(BulmaDecorator.ErrorClass)) {\n            element.classList.add(BulmaDecorator.ErrorClass);\n            this._attachIcon(element);\n        }\n        this._removeHelpText(element);\n        this._attachErrorMessage(element);\n    }\n    /**\n       *\n       * @param {HTMLInputElement} element\n       */\n    _attachErrorMessage(element) {\n        const paragraph = element.ownerDocument.createElement('p');\n        paragraph.classList.add('help', BulmaDecorator.ErrorClass);\n        paragraph.innerHTML = element.validationMessage;\n        if (element.parentElement) {\n            if (element.parentElement.parentElement) {\n                element.parentElement.parentElement.appendChild(paragraph);\n            }\n        }\n    }\n    /**\n       *\n       * @param {HTMLInputElement} element\n       */\n    _attachIcon(element) {\n        const document = element.ownerDocument;\n        const span = document.createElement('span');\n        span.classList.add('icon', 'is-small', 'is-right');\n        const i = document.createElement('i');\n        i.classList.add('fas', 'fa-exclamation-triangle');\n        span.appendChild(i);\n        if (element.parentElement) {\n            element.parentElement.classList.add('has-icons-right');\n            element.parentElement.appendChild(span);\n        }\n    }\n    /**\n       * Removing Error\n       * @param {HTMLInputElement} element\n       */\n    _removeErrorIfNecessary(element) {\n        if (element.classList.contains(BulmaDecorator.ErrorClass)) {\n            element.classList.remove(BulmaDecorator.ErrorClass);\n            this._removeErrorIcon(element);\n            this._removeHelpText(element);\n        }\n    }\n    /**\n     * Removing Success Class\n     * @param {HTMLInputElement} element\n     */\n    _removeSuccessIfNecessary(element) {\n        if (element.classList.contains(BulmaDecorator.SuccessClass)) {\n            element.classList.remove(BulmaDecorator.SuccessClass);\n        }\n    }\n    /**\n       * Removing Icon\n       * @param {HTMLInputElement} element\n       */\n    _removeErrorIcon(element) {\n        const parent = element.parentElement;\n        parent.classList.remove('has-icons-right');\n        const span = parent.lastChild;\n        if (span.tagName == 'SPAN') {\n            parent.removeChild(span);\n        }\n    }\n    /**\n       * Removing Helptext\n       * @param {HTMLInputElement} element\n       */\n    _removeHelpText(element) {\n        if (element.parentElement && element.parentElement.parentElement) {\n            const parentParent = element.parentElement.parentElement;\n            const paragraph = parentParent.lastChild;\n            if (paragraph.tagName == 'P') {\n                parentParent.removeChild(paragraph);\n            }\n        }\n    }\n}\n\nconst notAcceptedInputTypes = ['reset', 'button', 'submit'];\n/**\n * Facade for Form-Validation.\n */\nclass FormtValidation {\n    /**\n       * Is a Input Element accepted?\n       * @param {HTMLInputElement} element\n       * @return {boolean}\n       */\n    static isAcceptedInputType(element) {\n        return element.tagName == 'TEXTAREA' || element.tagName == 'INPUT' || element.tagName.includes(\"SELECT\") &&\n            notAcceptedInputTypes.findIndex((t) => t === element.type) == -1;\n    }\n    /**\n       * Validation of Form\n       * @param {HTMLFormElement} form\n       * @return {boolean}\n       */\n    validateForm(form) {\n        const formValid = form.checkValidity();\n        if (!formValid) {\n            for (const element of form.elements) {\n                this.validateElement(element);\n            }\n        }\n        return formValid;\n    }\n    /**\n       * Validation of an InputElement\n       * @param {HTMLInputElement} element\n       * @return {boolean}\n       */\n    validateElement(element) {\n        if (FormtValidation.isAcceptedInputType(element)) {\n            this._styleElement(element);\n            return element.reportValidity();\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n       * Style a InputElement\n       * @param {HTMLInputElement} element\n       * @private\n       */\n    _styleElement(element) {\n        const decorator = new BulmaDecorator();\n        if (element.reportValidity()) {\n            decorator.success(element);\n        }\n        else {\n            decorator.error(element);\n        }\n    }\n}\n\nexport { FormtValidation };\n//# sourceMappingURL=formt-validation.js.map\n","\n\nexport class LoadedEvent extends Event {\n\n    private _data: any;\n\n    constructor(data: any) {\n        super(\"loadeddata\");\n        this.data = data;\n    }\n\n    public get data(): any {\n        return this._data;\n    }\n    public set data(v: any) {\n        if (this._data != v) {\n            this._data = v;\n        }\n    }\n}","import {\n  VetproviehBinding,\n  VetproviehElement,\n  VetproviehNavParams,\n  ViewHelper,\n  WebComponent,\n} from '@tomuench/vetprovieh-shared/lib/index';\nimport { FormtValidation } from '@tomuench/formt-validation';\nimport { VetproviehNotification } from './vetprovieh-notification';\nimport { LoadedEvent } from './loaded-event';\n/**\n * `vetprovieh-detail`\n * Detail-Frame for Read, Create and Update Entities. Used in Vet:Provieh.\n *\n * @customElement\n */\nexport class VetproviehBasicDetail extends VetproviehElement {\n\n  /**\n       * Observed attributes\n       * @return {Array<string>}\n       */\n  static get observedAttributes() {\n    return ['destroyable', 'src', 'id'];\n  }\n\n  private _src: string | null = null;\n  private _id: string | null = null;\n  protected _currentObject: any = {};\n  private _detailTemplate: DocumentFragment | undefined;\n\n  private _storeElement: boolean = false;\n  private _destroyable: boolean = false;\n  private _beforeSavePromises: Function[] = [];\n\n  /**\n   * Default-Constructor\n   * @param {HTMLTemplateElement | undefined} pListTemplate\n   */\n  constructor(pListTemplate: HTMLTemplateElement | undefined = undefined) {\n    super();\n\n    const template = pListTemplate || this.querySelector('template');\n    if (template) {\n      this._detailTemplate = template.content;\n    }\n  }\n\n  addBeforeSavePromise(promise: Function) {\n    if (promise) {\n      this._beforeSavePromises.push(promise);\n    }\n  }\n\n  protected beforeSave(): Promise<any> {\n    return Promise.all(this._beforeSavePromises.map((p) => p()));\n  }\n\n\n  /**\n     * @property {boolean} storeElement\n     */\n  get storeElement() {\n    return this._storeElement;\n  }\n\n  /**\n   * Setting Src\n   * @param {boolean} val\n   */\n  set storeElement(val) {\n    if (val !== this.storeElement) {\n      this._storeElement = val;\n    }\n  }\n\n  /**\n     * @property {string|null} src\n     */\n  get src() {\n    return this._src;\n  }\n\n  /**\n   * Setting Src\n   * @param {string} val\n   */\n  set src(val) {\n    if (val !== this.src) {\n      this._src = val;\n      this._fetchDataFromServer();\n    }\n  }\n\n  /**\n    * @property {boolean} src\n    */\n  get destroyable(): boolean {\n    return this._destroyable;\n  }\n\n  /**\n   * Setting Src\n   * @param {boolean} val\n   */\n  set destroyable(val) {\n    let valAsBoolean = val;\n    if (valAsBoolean !== this._destroyable) {\n      this._destroyable = valAsBoolean;\n    }\n  }\n\n  /**\n   * Get Current Object\n   * @return {any}\n   */\n  get currentObject(): any {\n    return this._currentObject;\n  }\n  \n  \n  set currentObject(val: any) {\n    if (this._currentObject !== val) {\n      this._currentObject = val;\n    }\n  }\n\n  /**\n   * ID of the currentObject\n     * @property {string|undefined} id\n     */\n  get objId() {\n    return this._id;\n  }\n\n  /**\n   * Set Id of currentObject\n   * @param {string} val\n   */\n  set objId(val) {\n    if (val !== this.objId) {\n      this._id = val;\n      this._fetchDataFromServer();\n    }\n  }\n\n  /**\n   * Run Callback\n   */\n  connectedCallback() {\n    // Lazy creation of shadowRoot.\n    if (!this.shadowRoot) {\n      this.attachShadow({\n        mode: 'open',\n      }).innerHTML = this.template;\n    }\n    this._attachListenerToButtons();\n    this._loadHtmlId();\n\n    window.onunload = () => this._storeCurrentObject();\n  }\n\n  /**\n     * Attaching Listener to Save and Abort Button\n     * @private\n     */\n  _attachListenerToButtons() {\n    const save = this.getByIdFromShadowRoot('saveButton') as HTMLElement;\n    const abort = this.getByIdFromShadowRoot('abortButton') as HTMLElement;\n    const destroy = this.getByIdFromShadowRoot('destroyButton') as HTMLElement;\n\n    save.addEventListener('click', () => this.save());\n\n    if (this.destroyable && destroy) {\n      destroy.addEventListener('click', () => {\n        if (confirm('Möchten Sie wirklich diesen Datensatz löschen')) {\n          this.destroy();\n        }\n      })\n    }\n    abort.addEventListener('click', () => this.goBack());\n  }\n\n  private goBack() {\n    VetproviehNavParams.delete(window.location.href);\n    window.history.back()\n  }\n\n  /**\n   * Show Notification\n   * @param {string} text\n   * @param {string} type\n   */\n  _showNotification(text: string, type = 'is-success') {\n    const notification =\n      this.getByIdFromShadowRoot('notification') as VetproviehNotification;\n    notification.text = text;\n    notification.type = type;\n    notification.display();\n  }\n\n  /**\n     * Save-Process\n     */\n  save() {\n    if (this._validateForm()) {\n      this.beforeSave().then(() => {\n        const xhr = this._buildSaveRequest();\n        const _this = this;\n        xhr.onload = function () {\n          // Process our return data\n          if (xhr.status >= 200 && xhr.status < 300) {\n            // What do when the request is successful\n            console.log('success!', xhr);\n            _this._showNotification('Daten erfolgreich gespeichert');\n\n            // Destroy Cached local Data\n            VetproviehNavParams.delete(window.location.href);\n          } else {\n            // What do when the request fails\n            console.log('The request failed!');\n            _this._showNotification('Daten konnten nicht gespeichert werden.',\n              'is-danger');\n          }\n        }.bind(this as VetproviehBasicDetail);\n        xhr.send(JSON.stringify(this._currentObject));\n\n      });\n    }\n  }\n\n\n  /**\n   * Destroy an Element\n   */\n  destroy() {\n    const _this = this;\n    if (this.destroyable) {\n      fetch(this.endpoint, { method: \"DELETE\" }).then((response) => {\n        if (response.status === 200) {\n          _this._showNotification('Daten erfolgreich gelöscht');\n          setTimeout(() => {\n            _this.goBack();\n          }, 3000);\n        } else {\n          _this._showNotification('Daten konnten nicht gelöscht werden.',\n            'is-danger');\n        }\n\n      }).catch((error) => {\n        _this._showNotification('Daten konnten nicht gelöscht werden.',\n          'is-danger');\n      })\n    }\n  }\n\n  get destroyButton(): string {\n    if (!this.destroyable) {\n      return '';\n    }\n    return `\n        <div class=\"column\">\n        <input id=\"destroyButton\" \n                class=\"button is-danger is-fullwidth\" \n                type=\"button\" value=\"Löschen\">                   \n        </div>\n    `;\n  }\n\n  /**\n   * Current Endpoint\n   * @return {string}\n   */\n  private get endpoint(): string {\n    if (this.objId != 'new') {\n      return this.src + '/' + this.objId;\n    } else {\n      return this.src as string;\n    }\n  }\n\n  /**\n     * Build-Save Request for Backend\n     * @return {XMLHttpRequest}\n     * @private\n     */\n  _buildSaveRequest() {\n    const xhr = new XMLHttpRequest();\n\n    if (this.objId != 'new') {\n      xhr.open('PUT', this.endpoint);\n    } else {\n      xhr.open('POST', this.endpoint);\n    }\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    return xhr;\n  }\n\n  /**\n     * Validate the Form\n     * @return {boolean}\n     * @private\n     */\n  _validateForm() {\n    const form = this.getByIdFromShadowRoot('form') as HTMLFormElement;\n    const validator = new FormtValidation();\n    return validator.validateForm(form);\n  }\n\n  /**\n     * Attach Data to List\n     * @param {any} data\n     * @param {string} searchValue\n     */\n  attachData(data: any) {\n    const detail = this.getByIdFromShadowRoot('detail') as HTMLElement;\n    detail.innerHTML = '';\n    detail.appendChild(this._generateDetail());\n    if (data) {\n      ViewHelper.replacePlaceholders(detail, data)\n      this._bindFormElements(data);\n      this._emitLoaded(data);\n    }\n  }\n\n  /**\n   * Emitting loaded Event\n   * @param {any} data \n   */\n  _emitLoaded(data: any) {\n    var event = new LoadedEvent(data);\n    this.dispatchEvent(event);\n  }\n\n  /**\n     * Load ID from Parameters\n     * @private\n     */\n  _loadHtmlId() {\n    this.objId = ViewHelper.getParameter(\"id\");\n\n    if (!this.objId) {\n      this.objId = 'new';\n    }\n  }\n\n  /**\n   * Binding Form Elements\n   * @param {any} data\n   * @param {string} prefix\n   */\n  _bindFormElements(data: any, prefix = '') {\n    if (prefix == '') {\n      this._currentObject = data;\n    }\n\n    if (this.shadowRoot != null) {\n      VetproviehBinding.bindFormElements(this.shadowRoot, data)\n    }\n  }\n\n  public rebindForm() {\n    this._bindFormElements(this._currentObject);\n  }\n\n  /**\n     * Generate new Item for List which is based on the template\n     * @return {HTMLDivElement}\n     * @private\n     */\n  _generateDetail() {\n    const div = document.createElement('div');\n    let newNode: any = document.createElement('p');\n    newNode.innerHTML = 'Not definied';\n    if (this._detailTemplate) {\n      newNode = document.importNode(this._detailTemplate, true);\n    }\n    div.appendChild(newNode);\n    return div;\n  }\n\n  // -----------------\n  // PRIVATE METHODS\n  // -----------------\n\n  /**\n   * Overwriteable Callback\n   * @param {any} data\n   * @protected\n   */\n  _afterFetch(data: any) {\n\n  }\n\n  /**\n   * Storing current Object into LocalStorage\n   */\n  _storeCurrentObject() {\n    if (this.storeElement) {\n      VetproviehNavParams.set(this._storeKey, this.currentObject);\n    }\n  }\n\n\n  /**\n   * Getting StoreKey\n   * @return {string}\n   */\n  private get _storeKey(): string {\n    let url = window.location.origin + window.location.pathname;\n    if (this.objId != 'new') {\n      url += \"?id=\" + this.objId;\n    }\n    return url;\n  }\n\n  /**\n   * Loading Data from Remote-Server\n   * @private\n   */\n  _fetchDataFromServer() {\n    if (this.objId && this.src) {\n      const self = this;\n      let endpoint = 'new.json';\n      let localObject = null;\n\n      if (this.objId != 'new') {\n        endpoint = this.src + '/' + this.objId;\n        localObject = VetproviehNavParams.get(this._storeKey);\n      } else if (this.storeElement) {\n        localObject = VetproviehNavParams.get(this._storeKey);\n      }\n\n      if (localObject && Object.keys(localObject).length > 0) {\n        self.attachData(localObject);\n        self._afterFetch(localObject);\n      } else {\n        fetch(endpoint)\n          .then((response) => response.json())\n          .then((data) => self.attachData(data))\n          .then((data) => self._afterFetch(data))\n          .catch((error) => console.log(error));\n      }\n    }\n  }\n\n  // -----------------\n  // CLASS METHODS\n  // -----------------\n}\n","import {\n  VetproviehBinding,\n  VetproviehElement,\n  VetproviehNavParams,\n  ViewHelper,\n  WebComponent,\n} from '@tomuench/vetprovieh-shared/lib/index';\nimport { FormtValidation } from '@tomuench/formt-validation';\nimport { VetproviehNotification } from './vetprovieh-notification';\nimport { LoadedEvent } from './loaded-event';\nimport { VetproviehBasicDetail } from './vetprovieh-basic-detail';\n/**\n * `vetprovieh-detail`\n * Detail-Frame for Read, Create and Update Entities. Used in Vet:Provieh.\n *\n * @customElement\n */\n@WebComponent({\n  template: VetproviehElement.template + ` \n  <form id=\"form\">\n      <vetprovieh-notification id=\"notification\">\n      </vetprovieh-notification>\n      <div id=\"detail\" class=\"container\">\n      \n      </div>\n      <hr/>\n      <div class=\"container\">\n      <div class=\"columns\">\n          <div class=\"column\">\n              <input id=\"abortButton\" \n                      class=\"button is-light is-fullwidth\" \n                      type=\"reset\" value=\"Zurück\">                   \n          </div>\n          \n          \\${this.destroyButton}\n          \n          <div class=\"column\">\n              <input id=\"saveButton\" \n                      class=\"button is-success is-fullwidth\" \n                      type=\"button\" value=\"Speichern\">\n          </div>\n      </div>\n      </div>\n  </form>\n  `,\n  tag: 'vetprovieh-detail'\n})\nexport class VetproviehDetail extends VetproviehBasicDetail {\n}\n","import { WebComponent, VetproviehElement } from '@tomuench/vetprovieh-shared/lib';\n\n/**\n * Notification\n */\n@WebComponent({\n  template: VetproviehElement.template + `\n  <style>\n      #notification {\n          transition: all 1s linear;\n      }\n      .hidden{\n          opacity: 0;\n      }\n  </style>\n  <div class=\"is-hidden\">\n      <div id=\"notification\" class=\"notification hidden\">\n        <div id=\"text\"></div>\n      </div>\n  </div>\n`,\n  tag: 'vetprovieh-notification'\n})\nexport class VetproviehNotification extends VetproviehElement {\n\n  private _text: string = \"\";\n  private _type: string = 'is-primary';\n\n  /**\n   * Default-Constructor\n   */\n  constructor() {\n    super();\n\n    if (this.innerHTML) {\n      this._text = this.innerHTML;\n    }\n  }\n\n  /**\n     * @property {string|null} type\n     */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Setting type\n   * @param {string|null} val\n   */\n  set type(val) {\n    if (val !== this.type) {\n      this._type = val;\n      this._updateRendering();\n    }\n  }\n\n  /**\n     * @property {string|null} text\n     */\n  get text() {\n    return this._text;\n  }\n\n  /**\n   * Setting Text\n   * @param {string| null} val\n   */\n  set text(val) {\n    if (val !== this.text) {\n      this._text = val;\n      this._updateRendering();\n    }\n  }\n\n  /**\n     * Show Notification for 3 seconds.\n     */\n  display() {\n    const notificationBox: HTMLElement = this._notificationBox;\n    const parent: HTMLElement = notificationBox.parentElement as HTMLElement;\n    notificationBox.classList.remove('hidden');\n\n    setTimeout(() => {\n      parent.classList.remove('is-hidden');\n    }, 1000);\n    setTimeout(() => {\n      notificationBox.classList.add('hidden');\n    }, 3000);\n    setTimeout(() => {\n      parent.classList.add('is-hidden');\n    }, 4000);\n  }\n\n  /**\n   * Load NotificationBox from Content\n   * @return {HTMLElement}\n   */\n  private get _notificationBox(): HTMLElement {\n    return this.getByIdFromShadowRoot('notification') as HTMLElement;\n  }\n\n  /**\n   * UI-Callback\n   */\n  connectedCallback() {\n    // Lazy creation of shadowRoot.\n    if (!this.shadowRoot) {\n      this.attachShadow({\n        mode: 'open',\n      }).innerHTML = this.template;\n    }\n\n    this._updateRendering();\n  }\n\n\n  /**\n   * Rendering update\n   */\n  _updateRendering() {\n    const notificationBox = this._notificationBox;\n    const textBox = this.getByIdFromShadowRoot('text') as HTMLElement;\n\n    notificationBox.classList.add(this.type);\n    textBox.innerHTML = this._text;\n  }\n}\n"],"names":[],"mappings":"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"}